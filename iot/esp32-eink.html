<!DOCTYPE html>
<html>

    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link href="/tailwind.css" rel="stylesheet">

        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/a11y-dark.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.min.js"></script>

        <script defer src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js"></script>

        <title>Lilygo ttgo t5</title>
    </head>

    <body class="bg-yellow-100">

        <header class="bg-yellow-400 p-4 sm:p-6 md:p-8 lg:p-10 xl:p-12">
            <a href="/" 
            class="text-3xl font-mono tracking-wider font-extrabold"
            >khalido.org</a>
            <br>
            <p>every blog needs subheader text</p>
        </header>

        <!--container setting paddings-->
        <div
    class="max-w-3xl
      mx-auto
      px-4 py-5
      sm:px-6 
      md:px-7 
      lg:max-w-4xl lg:px-8
      xl:max-w-5xl xl:px-9
      bg-gray-50"
      >
 
        


<article class="prose md:prose-lg lg:prose-xl">
    <h1 id=lilygo-ttgo-t5>Lilygo ttgo t5</h1>

    <details close class="fixed top-0 right-0 text-sm text-gray-500">
        <summary>Table of contents.</summary>
        <div class="toc">
<ul>
<li><a href="#lilygo-ttgo-t5">Lilygo ttgo t5</a><ul>
<li><a href="#the-board">the board</a></li>
<li><a href="#copy-files">Copy files</a></li>
<li><a href="#the-display">the display</a></li>
<li><a href="#resources">resources</a></li>
</ul>
</li>
</ul>
</div>

    </details>
    
    
<h2 id="the-board">the board</h2>
<p>TTGO T5 V2.3 Wireless WiFi Basic Wireless Module ESP-32 esp32 2.13 Inch ePaper Display Development board.</p>
<ul>
<li>SKU: H239, <a href="https://github.com/Xinyuan-LilyGO/LilyGo-T5-ink-series">github</a></li>
<li>Model DEPG0213BN</li>
<li>ESP32-D0WDQ6 (revision 1)</li>
<li>WiFi, BT, Dual Core, 240MHz, Crystal is 40MHz</li>
</ul>
<p><code>esptool.py --port /dev/ttyUSB1 chip_id</code> tells us:</p>
<pre><code>Chip is ESP32-D0WDQ6 (revision 1)
Features: WiFi, BT, Dual Core, 240MHz
</code></pre>
<p>I downloaded the latest stable generic <a href="http://micropython.org/download/esp32/">micropython ESP-IDF v4.x firmware</a>. Flash it by: (assuming board is on ttyUSB1)</p>
<pre><code class="language-bash">esptool.py --chip esp32 --port /dev/ttyUSB1 erase_flash
esptool.py --chip esp32 --port /dev/ttyUSB1 --baud 460800 write_flash -z 0x1000 esp32-idf4-20200902-v1.13.bin
</code></pre>
<p>So now micropython is running on the board. </p>
<p>An easier way to do the above is to use Mu, which has a flasher built it.</p>
<h2 id="copy-files">Copy files</h2>
<p>Mu-editor has a built in file manager but it wasn't working on my board, so I went with <a href="https://github.com/scientifichackers/ampy">ampy</a>.</p>
<p>Install that by: <code>pip install adafruit-ampy</code> then find the port the board is using.</p>
<p>On a mac this lists all the serial ports in use:
<code>ls -l /dev/tty.*</code></p>
<p>On my machine I got <code>/dev/tty.usbserial-1420</code>, so ampy basics is:</p>
<ul>
<li>list files: <code>ampy --port /dev/cu.usbserial-1420 ls</code></li>
<li>put a file on the board: <code>ampy --port /dev/cu.usbserial-1420 put config.py</code></li>
<li>get a file: <code>ampy --port /dev/cu.usbserial-1420 get config.py</code></li>
<li>delete: <code>ampy --port /dev/cu.usbserial-1420 rm config.py</code></li>
</ul>
<h2 id="the-display">the display</h2>
<p>This board comes with a 2.13 inch eink display.</p>
<p>todo: make it work!</p>
<h2 id="resources">resources</h2>
<ul>
<li>https://www.re-innovation.co.uk/docs/ttgo-e-paper-display/</li>
<li>https://github.com/lewisxhe/TTGO-EPaper-Series</li>
<li>https://github.com/peterhinch/micropython-nano-gui</li>
<li>https://github.com/Xinyuan-LilyGO/LilyGo-eink-v2.3-micropython</li>
<li>https://github.com/vroland/epdiy - drivers for eink screens</li>
</ul>
<p>Micropython executes <code>boot.py</code> on startup, then runs <code>main.py</code> if found. So my code should go inside a main.py file. Mu should be able to see and write to the board, but its grayed out. </p>
<p>todo: find a easy solution to write files to the board.</p>

    <!-- post meta info div-->
    <div class="text-gray-600 text-base">
        posted <time>2021-01-18</time>, updated <time>2022-03-07</time><br>
        tagged: 
        <a href="/iot"
        class="text-pink-500 bg-transparent hover:bg-pink-500 hover:text-white active:bg-pink-600 font-bold rounded outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150">
        iot</a>

            View on: <a href="https://github.com/khalido/blog/blob/master/posts/esp32-eink.md"
            class="text-purple-500 hover:bg-purple-500 hover:text-white active:bg-purple-600 font-bold rounded outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150">
            github</a>
    
    </div>
</article>

<script>hljs.highlightAll();</script>
</div> <!-- closes first div after body -->

<hr>
<footer class="px-4 py-8 content-center text-center">
    <p class="text-sm text-gray-300 pb-2">
        <a href="https://github.com/khalido/blog">#</a>
        <a href="https://twitter.com/KO">@ko</a>
    </p>
</footer>

</body>

</html>