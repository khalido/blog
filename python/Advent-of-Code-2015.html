<!DOCTYPE html>
<html>

    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <!--temp stylesheet, customize my own one later.
        https://github.com/kognise/water.css-->
        
        
        <link rel="stylesheet" href="https://fonts.xz.style/serve/inter.css">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@exampledev/new.css@1.1.2/new.min.css">

        <link rel="stylesheet" type="text/css" href="/codestyles.css">
        
        

        <title>Advent of Code 2015</title>
    </head>

    <body>
 
        <header>
            <a href="/">khalido.org</a> <br>
            I love me some subheader text.
        </header>

    <details>
        <summary>Table of contents.</summary>
        <div class="toc">
<ul>
<li><a href="#day-1-not-quite-lisp">Day 1: Not Quite Lisp</a></li>
<li><a href="#day-2-i-was-told-there-would-be-no-math">Day 2: I Was Told There Would Be No Math</a></li>
<li><a href="#day-3-perfectly-spherical-houses-in-a-vacuum">Day 3: Perfectly Spherical Houses in a Vacuum</a></li>
<li><a href="#day-4-the-ideal-stocking-stuffer">Day 4: The Ideal Stocking Stuffer</a></li>
<li><a href="#day-5-doesnt-he-have-intern-elves-for-this">Day 5: Doesn't He Have Intern-Elves For This?</a></li>
<li><a href="#day-6-probably-a-fire-hazard">Day 6: Probably a Fire Hazard</a></li>
</ul>
</div>

    </details>

<article>
        <h1>Advent of Code 2015</h1>
  
    <p>Quarantime time is the perfect time to setup a jupyter notebook powered blog and solve <a href="http://adventofcode.com/">Advent of Code</a>, starting with 2015. The following is a write up of how to solve and things I learved while doing so, thus some of the code is spelled out and slow! So look at the <a href="https://www.reddit.com/r/adventofcode/">AOC reddit site</a> for ninja level solutions.</p>
<p>I am trying to</p>
<ul>
<li>code in a readable fashion, avoiding shortcuts (easier said then done!)</li>
<li>make visuals as many problems as possible.</li>
<li>not <a href="https://docs.google.com/presentation/d/1n2RlMdmv1p25Xy5thJUhkKGvjtV-dkAIsUXP-AL4ffI/edit?usp=sharing">mangle up jupyter notebooks too badly</a>. Real code is written using a text editor! Unless you are <a href="https://netflixtechblog.com/notebook-innovation-591ee3221233">Netflix</a>, or course, or using <a href="https://yihui.org/en/2018/09/xfun-pkg-attach/">rmarkdown</a>.</li>
</ul>
<p>First up, I'm importing all the libs I'll use up here:
<div class="codecell" markdown="1">
<div class="input_area" markdown="1">
<details class="description">
    <summary>Code details ...</summary></p>
<div class="codehilite"><pre><span></span><code><span class="c1">#collapse-hide</span>
<span class="c1"># python essentials</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">re</span>
<span class="kn">import</span> <span class="nn">hashlib</span>
<span class="kn">import</span> <span class="nn">math</span>
<span class="kn">from</span> <span class="nn">pathlib</span> <span class="kn">import</span> <span class="n">Path</span>
<span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">List</span>
<span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">defaultdict</span><span class="p">,</span> <span class="n">namedtuple</span><span class="p">,</span> <span class="n">Counter</span>

<span class="c1"># useful external libs</span>
<span class="c1">#import numpy as np</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="c1"># misc utils</span>
<span class="kn">import</span> <span class="nn">requests</span>
<span class="c1">#from tqdm.notebook import trange, tqdm # progress bars for slow funcs</span>
<span class="c1">#from functools import reduce </span>

<span class="c1"># for plots, cause visuals</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span> <span class="c1"># goto python viz lib</span>
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span> <span class="c1"># prettify matplotlib</span>
<span class="kn">from</span> <span class="nn">IPython.display</span> <span class="kn">import</span> <span class="n">display</span><span class="p">,</span> <span class="n">Markdown</span>

<span class="c1"># javascript plotting for interactive graphs</span>
<span class="c1">#import altair as alt</span>
<span class="c1">#import plotly.express as px</span>
</code></pre></div>


</details>

</div>

</div>

<p>Some helper functions to avoid rewriting the same code for all the problems:
<div class="codecell" markdown="1">
<div class="input_area" markdown="1">
<details class="description">
    <summary>Code details ...</summary></p>
<div class="codehilite"><pre><span></span><code><span class="c1">#collapse-hide</span>
<span class="n">input_path</span> <span class="o">=</span> <span class="n">Path</span><span class="o">.</span><span class="n">home</span><span class="p">()</span> <span class="o">/</span> <span class="s2">&quot;code&quot;</span> <span class="o">/</span> <span class="s2">&quot;adventofcode&quot;</span> <span class="o">/</span> <span class="s2">&quot;inputs&quot;</span>
<span class="n">github_url</span> <span class="o">=</span> <span class="n">url</span> <span class="o">=</span> <span class="s2">&quot;https://github.com/khalido/adventofcode/raw/master/inputs&quot;</span>

<span class="k">def</span> <span class="nf">get_input</span><span class="p">(</span><span class="n">day</span><span class="p">:</span><span class="nb">int</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">year</span><span class="p">:</span><span class="nb">int</span><span class="o">=</span><span class="mi">2015</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;takes in the day, year and date, returns the input&quot;&quot;&quot;</span>

    <span class="k">try</span><span class="p">:</span>    <span class="c1"># load from local disk</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">input_path</span> <span class="o">/</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">year</span><span class="si">}</span><span class="s2">&quot;</span> <span class="o">/</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">day</span><span class="si">}</span><span class="s2">.txt&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="n">data</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
    <span class="k">except</span><span class="p">:</span> <span class="c1"># else load from github repo</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Failed to load </span><span class="si">{</span><span class="n">year</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">day</span><span class="si">}</span><span class="s2">.txt from disk, trying to get from github&quot;</span><span class="p">)</span>
        <span class="n">url</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">github_url</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">year</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">day</span><span class="si">}</span><span class="s2">.txt&quot;</span>
        <span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">r</span><span class="o">.</span><span class="n">status_code</span> <span class="o">==</span> <span class="mi">200</span><span class="p">:</span>
            <span class="n">data</span> <span class="o">=</span> <span class="n">r</span><span class="o">.</span><span class="n">text</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Failed to load </span><span class="si">{</span><span class="n">year</span><span class="si">}</span><span class="s2">.</span><span class="si">{</span><span class="n">day</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="n">data</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">return</span> <span class="n">data</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>

<span class="k">def</span> <span class="nf">printmd</span><span class="p">(</span><span class="n">txt</span><span class="o">=</span><span class="s2">&quot;## testing&quot;</span><span class="p">):</span>
    <span class="n">display</span><span class="p">(</span><span class="n">Markdown</span><span class="p">(</span><span class="n">txt</span><span class="p">))</span>
</code></pre></div>


</details>

</div>

</div>

<h2 id="day-1-not-quite-lisp">Day 1: Not Quite Lisp</h2>
<p><a href="https://adventofcode.com/2015/day/1">#</a> We're standing at a inifinite building, and following instructions:<code>(</code> is up, <code>)</code> is down to find the right floor.</p>
<p>This is simple - minus the ups from the downs:
<div class="codecell" markdown="1">
<div class="input_area" markdown="1"></p>
<div class="codehilite"><pre><span></span><code><span class="n">inp1</span> <span class="o">=</span> <span class="n">get_input</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="n">inp1</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="s2">&quot;(&quot;</span><span class="p">)</span> <span class="o">-</span> <span class="n">inp1</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="s2">&quot;)&quot;</span><span class="p">)</span>
</code></pre></div>


<p></div>
<div class="output_area" markdown="1"></p>
<div class="codehilite"><pre><span></span><code><span class="err">138</span>
</code></pre></div>


</div>

</div>

<p>A list comprehension version for kicks:
<div class="codecell" markdown="1">
<div class="input_area" markdown="1"></p>
<div class="codehilite"><pre><span></span><code><span class="nb">sum</span><span class="p">([</span><span class="mi">1</span> <span class="k">if</span> <span class="n">char</span> <span class="o">==</span> <span class="s2">&quot;(&quot;</span> <span class="k">else</span> <span class="o">-</span><span class="mi">1</span> <span class="k">for</span> <span class="n">char</span> <span class="ow">in</span> <span class="n">inp1</span><span class="p">])</span>
</code></pre></div>


<p></div>
<div class="output_area" markdown="1"></p>
<div class="codehilite"><pre><span></span><code><span class="err">138</span>
</code></pre></div>


</div>

</div>

<p>for part 2, we need to find the first time he enters the basement while following the instructions.
<div class="codecell" markdown="1">
<div class="input_area" markdown="1"></p>
<div class="codehilite"><pre><span></span><code><span class="n">floor</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">floors</span> <span class="o">=</span> <span class="p">[]</span>

<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">mv</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">inp1</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">mv</span> <span class="o">==</span> <span class="s2">&quot;(&quot;</span><span class="p">:</span>
        <span class="n">floor</span> <span class="o">+=</span> <span class="mi">1</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">floor</span> <span class="o">-=</span> <span class="mi">1</span>

    <span class="n">floors</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">floor</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">floor</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
        <span class="n">printmd</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Timesteps to reach the basement: **</span><span class="si">{</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="si">}</span><span class="s2">**&quot;</span><span class="p">)</span>
        <span class="k">break</span> <span class="c1"># no need to continue climbing</span>

<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Floor Tracker&quot;</span><span class="p">);</span> <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;Timestep&quot;</span><span class="p">);</span> <span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;Floor&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">axhline</span><span class="p">(</span><span class="n">y</span><span class="o">=-</span><span class="mi">1</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;Basement&quot;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;red&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">axhline</span><span class="p">(</span><span class="n">y</span><span class="o">=</span><span class="mi">138</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;Final Floor&quot;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;orange&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">floors</span><span class="p">)),</span> <span class="n">floors</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;Position&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s2">&quot;upper right&quot;</span><span class="p">);</span>
</code></pre></div>


<p></div>
<div class="output_area" markdown="1"></p>
<p>Timesteps to reach the basement: <strong>1771</strong></p>
<p><img alt="png" src="Advent-of-Code-2015_files/output_9_1.png" /></p>
</div>

</div>

<h2 id="day-2-i-was-told-there-would-be-no-math">Day 2: I Was Told There Would Be No Math</h2>
<p>How much wrapping paper is needed to wrap a bunch of presents?
We need<code>2*l*w + 2*w*h + 2*h*l</code> paper, and the input is the l, w and h of each present.</p>
<p>In the bad old days of programming, this would be the perfect place to represent the data as a list or tuple in the form <code>[3 ,3, 9]</code> representing <code>[l, w, h]</code>. But now we can use namedtuples to make it easier to understand the data:
<div class="codecell" markdown="1">
<div class="input_area" markdown="1"></p>
<div class="codehilite"><pre><span></span><code><span class="n">Present</span> <span class="o">=</span> <span class="n">namedtuple</span><span class="p">(</span><span class="s2">&quot;Present&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;l&quot;</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">,</span> <span class="s2">&quot;h&quot;</span><span class="p">])</span>

<span class="n">inp2</span> <span class="o">=</span> <span class="n">get_input</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="n">data2</span> <span class="o">=</span> <span class="p">[</span><span class="n">Present</span><span class="p">(</span><span class="o">*</span><span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">i</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">)])</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">inp2</span><span class="p">]</span>
<span class="n">data2</span><span class="p">[:</span><span class="mi">4</span><span class="p">]</span>
</code></pre></div>


<p></div>
<div class="output_area" markdown="1"></p>
<div class="codehilite"><pre><span></span><code><span class="err">[Present(l=29, w=13, h=26),</span>
<span class="err"> Present(l=11, w=11, h=14),</span>
<span class="err"> Present(l=27, w=2, h=5),</span>
<span class="err"> Present(l=6, w=10, h=13)]</span>
</code></pre></div>


</div>

<p></div>
<div class="codecell" markdown="1">
<div class="input_area" markdown="1"></p>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">get_present_area</span><span class="p">(</span><span class="n">p</span><span class="p">:</span> <span class="n">Present</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
    <span class="n">box_area</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">([</span><span class="mi">2</span><span class="o">*</span><span class="n">p</span><span class="o">.</span><span class="n">l</span><span class="o">*</span><span class="n">p</span><span class="o">.</span><span class="n">w</span><span class="p">,</span> <span class="mi">2</span><span class="o">*</span><span class="n">p</span><span class="o">.</span><span class="n">w</span><span class="o">*</span><span class="n">p</span><span class="o">.</span><span class="n">h</span><span class="p">,</span> <span class="mi">2</span><span class="o">*</span><span class="n">p</span><span class="o">.</span><span class="n">h</span><span class="o">*</span><span class="n">p</span><span class="o">.</span><span class="n">l</span><span class="p">])</span>
    <span class="n">extra_paper</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">prod</span><span class="p">(</span><span class="nb">sorted</span><span class="p">(</span><span class="n">p</span><span class="p">)[:</span><span class="mi">2</span><span class="p">])</span>
    <span class="k">return</span> <span class="n">box_area</span> <span class="o">+</span> <span class="n">extra_paper</span>

<span class="nb">sum</span><span class="p">([</span><span class="n">get_present_area</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">data2</span><span class="p">])</span>
</code></pre></div>


<p></div>
<div class="output_area" markdown="1"></p>
<div class="codehilite"><pre><span></span><code><span class="err">1586300</span>
</code></pre></div>


</div>

</div>

<p>Now we need to calcuate the ribbon required, which is equal to the perimeter of the smallest face + cubic volume of the present
<div class="codecell" markdown="1">
<div class="input_area" markdown="1"></p>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">ribbon</span><span class="p">(</span><span class="n">present</span><span class="p">:</span> <span class="n">Present</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;takes in present, returns length of ribbon needed to wrap&quot;&quot;&quot;</span>
    <span class="n">l</span><span class="p">,</span> <span class="n">w</span><span class="p">,</span> <span class="n">h</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">present</span><span class="p">)</span>
    <span class="k">return</span> <span class="mi">2</span><span class="o">*</span><span class="n">l</span> <span class="o">+</span> <span class="mi">2</span><span class="o">*</span><span class="n">w</span> <span class="o">+</span> <span class="n">l</span><span class="o">*</span><span class="n">w</span><span class="o">*</span><span class="n">h</span>

<span class="nb">sum</span><span class="p">([</span><span class="n">ribbon</span><span class="p">(</span><span class="n">present</span><span class="p">)</span> <span class="k">for</span> <span class="n">present</span> <span class="ow">in</span> <span class="n">data2</span><span class="p">])</span>
</code></pre></div>


<p></div>
<div class="output_area" markdown="1"></p>
<div class="codehilite"><pre><span></span><code><span class="err">3737498</span>
</code></pre></div>


</div>

</div>

<h2 id="day-3-perfectly-spherical-houses-in-a-vacuum">Day 3: Perfectly Spherical Houses in a Vacuum</h2>
<p><a href="https://adventofcode.com/2015/day/3">#</a> Santa is delivering presents to houses, and his movements is 1 step at a time: north (^), south (v), east (&gt;), or west (&lt;)
<div class="codecell" markdown="1">
<div class="input_area" markdown="1"></p>
<div class="codehilite"><pre><span></span><code><span class="n">inp3</span> <span class="o">=</span> <span class="n">get_input</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>

<span class="n">dirs</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;^&quot;</span><span class="p">:</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span> <span class="s2">&quot;&gt;&quot;</span><span class="p">:</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span> <span class="s2">&quot;v&quot;</span><span class="p">:</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">),</span> <span class="s2">&quot;&lt;&quot;</span><span class="p">:</span> <span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">)}</span>

<span class="k">def</span> <span class="nf">get_moves</span><span class="p">(</span><span class="n">data</span><span class="p">):</span>
    <span class="n">moves</span> <span class="o">=</span> <span class="p">[(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)]</span>  <span class="c1"># starting point</span>

    <span class="k">for</span> <span class="n">mv</span> <span class="ow">in</span> <span class="n">data</span><span class="p">:</span>
        <span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">moves</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="c1"># x,y of current pos</span>
        <span class="n">xx</span><span class="p">,</span> <span class="n">yy</span> <span class="o">=</span> <span class="n">dirs</span><span class="p">[</span><span class="n">mv</span><span class="p">]</span>
        <span class="n">moves</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">x</span> <span class="o">+</span> <span class="n">xx</span><span class="p">,</span> <span class="n">y</span> <span class="o">+</span> <span class="n">yy</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">moves</span>

<span class="n">moves</span> <span class="o">=</span> <span class="n">get_moves</span><span class="p">(</span><span class="n">inp3</span><span class="p">)</span>
<span class="n">c</span> <span class="o">=</span> <span class="n">Counter</span><span class="p">(</span><span class="n">moves</span><span class="p">)</span>
<span class="n">printmd</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Santa visited **</span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">c</span><span class="p">)</span><span class="si">}</span><span class="s2">** unique places.&quot;</span><span class="p">)</span>

<span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="nb">zip</span><span class="p">(</span><span class="o">*</span><span class="n">moves</span><span class="p">)</span>

<span class="n">f</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">6</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Santa visited </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">c</span><span class="p">)</span><span class="si">}</span><span class="s2"> unique places in </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">moves</span><span class="p">)</span><span class="si">}</span><span class="s2"> visits&quot;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.7</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;Santa&#39;s Movements&quot;</span><span class="p">);</span> <span class="n">ax</span><span class="o">.</span><span class="n">legend</span><span class="p">();</span>
</code></pre></div>


<p></div>
<div class="output_area" markdown="1"></p>
<p>Santa visited <strong>2565</strong> unique places.</p>
<p><img alt="png" src="Advent-of-Code-2015_files/output_16_1.png" /></p>
</div>

</div>

<p>for part 2, we have two santas! They move alternatingly, so we can say Santa_1 does all the odd moves and Santa_2 does all the even moves:
<div class="codecell" markdown="1">
<div class="input_area" markdown="1"></p>
<div class="codehilite"><pre><span></span><code><span class="n">santa_1</span> <span class="o">=</span> <span class="n">get_moves</span><span class="p">(</span><span class="n">inp3</span><span class="p">[::</span><span class="mi">2</span><span class="p">])</span>  <span class="c1"># all the odd moves</span>
<span class="n">santa_2</span> <span class="o">=</span> <span class="n">get_moves</span><span class="p">(</span><span class="n">inp3</span><span class="p">[</span><span class="mi">1</span><span class="p">::</span><span class="mi">2</span><span class="p">])</span> <span class="c1"># all the even moves</span>

<span class="n">two_santas</span> <span class="o">=</span> <span class="n">Counter</span><span class="p">(</span><span class="n">santa_1</span> <span class="o">+</span> <span class="n">santa_2</span><span class="p">)</span>
<span class="n">printmd</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;The two santas visited **</span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">two_santas</span><span class="p">)</span><span class="si">}</span><span class="s2">** unique places.&quot;</span><span class="p">)</span>

<span class="n">f</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">6</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;the two santas visited </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">two_santas</span><span class="p">)</span><span class="si">}</span><span class="s2"> unique places&quot;</span><span class="p">)</span>

<span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">santa</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">((</span><span class="s2">&quot;Bob&quot;</span><span class="p">,</span> <span class="s2">&quot;Alice&quot;</span><span class="p">),</span> <span class="p">(</span><span class="n">santa_1</span><span class="p">,</span> <span class="n">santa_2</span><span class="p">)):</span>
    <span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="nb">zip</span><span class="p">(</span><span class="o">*</span><span class="n">santa</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.8</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Santa_</span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">legend</span><span class="p">();</span>
</code></pre></div>


<p></div>
<div class="output_area" markdown="1"></p>
<p>The two santas visited <strong>2639</strong> unique places.</p>
<p><img alt="png" src="Advent-of-Code-2015_files/output_18_1.png" /></p>
</div>

</div>

<h2 id="day-4-the-ideal-stocking-stuffer">Day 4: The Ideal Stocking Stuffer</h2>
<p><a href="https://adventofcode.com/2015/day/4">#</a>
<div class="codecell" markdown="1">
<div class="input_area" markdown="1"></p>
<div class="codehilite"><pre><span></span><code><span class="n">inp4</span> <span class="o">=</span> <span class="s2">&quot;bgvyzdsv&quot;</span>
<span class="n">test4_1</span> <span class="o">=</span> <span class="s2">&quot;abcdef&quot;</span> <span class="c1">#609043</span>
<span class="n">test4_2</span> <span class="o">=</span> <span class="s2">&quot;pqrstuv&quot;</span> <span class="c1"># 1048970</span>

<span class="k">def</span> <span class="nf">make_hash</span><span class="p">(</span><span class="n">txt</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">hashlib</span><span class="o">.</span><span class="n">md5</span><span class="p">(</span><span class="n">txt</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s2">&quot;utf&quot;</span><span class="p">))</span><span class="o">.</span><span class="n">hexdigest</span><span class="p">()</span>
</code></pre></div>


<p></div>
<div class="output_area" markdown="1"></p>
<div class="codehilite"><pre><span></span><code><span class="err">False</span>
</code></pre></div>


</div>

<p></div>
<div class="codecell" markdown="1">
<div class="input_area" markdown="1"></p>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">day_4_1</span><span class="p">(</span><span class="n">inp</span><span class="o">=</span><span class="n">inp4</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="s2">&quot;None&quot;</span><span class="p">,</span> <span class="n">target</span><span class="o">=</span><span class="s2">&quot;00000&quot;</span><span class="p">,</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
    <span class="k">while</span> <span class="ow">not</span> <span class="n">s</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="n">target</span><span class="p">):</span>
        <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="n">txt</span> <span class="o">=</span> <span class="n">inp</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
        <span class="n">s</span> <span class="o">=</span> <span class="n">make_hash</span><span class="p">(</span><span class="n">txt</span><span class="p">)</span>
    <span class="n">printmd</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;_</span><span class="si">{</span><span class="n">inp</span><span class="si">}</span><span class="s2">_ target at position **</span><span class="si">{</span><span class="n">i</span><span class="si">:</span><span class="s2">,</span><span class="si">}</span><span class="s2">** (</span><span class="si">{</span><span class="n">s</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">i</span>

<span class="k">assert</span> <span class="n">day_4_1</span><span class="p">(</span><span class="s2">&quot;abcdef&quot;</span><span class="p">)</span> <span class="o">==</span> <span class="mi">609043</span>    <span class="c1"># tests are always a good idea</span>
<span class="k">assert</span> <span class="n">day_4_1</span><span class="p">(</span><span class="s2">&quot;pqrstuv&quot;</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1048970</span>    

<span class="n">day_4_1</span><span class="p">()</span>
</code></pre></div>


<p></div>
<div class="output_area" markdown="1"></p>
<p><em>abcdef</em> target at position <strong>609,043</strong> (000001dbbfa3a5c83a2d506429c7b00e)</p>
<p><em>pqrstuv</em> target at position <strong>1,048,970</strong> (000006136ef2ff3b291c85725f17325c)</p>
<p><em>bgvyzdsv</em> target at position <strong>254,575</strong> (000004b30d481662b9cb0c105f6549b2)</p>
<div class="codehilite"><pre><span></span><code><span class="err">254575</span>
</code></pre></div>


</div>

</div>

<p>Part two just changes the target sring to have one more zero so thanks to making part one a function this is easy:
<div class="codecell" markdown="1">
<div class="input_area" markdown="1"></p>
<div class="codehilite"><pre><span></span><code><span class="n">day_4_1</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="s2">&quot;000000&quot;</span><span class="p">)</span>
</code></pre></div>


<p></div>
<div class="output_area" markdown="1"></p>
<p><em>bgvyzdsv</em> target at position <strong>1,038,736</strong> (000000b1b64bf5eb55aad89986126953)</p>
<div class="codehilite"><pre><span></span><code><span class="err">1038736</span>
</code></pre></div>


</div>

</div>

<h2 id="day-5-doesnt-he-have-intern-elves-for-this">Day 5: Doesn't He Have Intern-Elves For This?</h2>
<p><a href="https://adventofcode.com/2015/day/5">#</a> We have a list of strings, and Santa has the following rules to figure out which ones are nice:</p>
<ul>
<li>at least three vowels (aeiou only), like aei, xazegov, or aeiouaeiouaeiou.</li>
<li>at least one letter that appears twice in a row, like xx, abcdde (dd), or aabbccdd (aa, bb, cc, or dd).</li>
<li>does not contain the strings ab, cd, pq, or xy, even if they are part of one of the other requirements.</li>
</ul>
<div class="codecell">
<div class="input_area" markdown="1">

<div class="codehilite"><pre><span></span><code><span class="n">vowels</span> <span class="o">=</span> <span class="s2">&quot;aeiou&quot;</span>                        <span class="c1"># need vowels</span>
<span class="n">bad_strings</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;ab&quot;</span><span class="p">,</span> <span class="s2">&quot;cd&quot;</span><span class="p">,</span> <span class="s2">&quot;pq&quot;</span><span class="p">,</span> <span class="s2">&quot;xy&quot;</span><span class="p">]</span>  <span class="c1"># don&#39;t want these</span>
<span class="n">regex</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;([a-zA-Z])\1{1,}&quot;</span><span class="p">)</span> <span class="c1"># search for 2+ letters in a row</span>

<span class="n">test4</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;ugknbfddgicrmopn&quot;</span><span class="p">,</span> <span class="s2">&quot;aaa&quot;</span><span class="p">,</span> <span class="s2">&quot;jchzalrnumimnmhp&quot;</span><span class="p">,</span> 
        <span class="s2">&quot;haegwjzuvuyypxyu&quot;</span><span class="p">,</span> <span class="s2">&quot;dvszwmarrgswjxmb&quot;</span><span class="p">]</span>

<span class="k">def</span> <span class="nf">is_nice_string</span><span class="p">(</span><span class="n">txt</span><span class="p">):</span>
    <span class="n">vowel_count</span> <span class="o">=</span> <span class="nb">len</span><span class="p">([</span><span class="n">char</span> <span class="k">for</span> <span class="n">char</span> <span class="ow">in</span> <span class="n">txt</span> <span class="k">if</span> <span class="n">char</span> <span class="ow">in</span> <span class="n">vowels</span><span class="p">])</span> <span class="o">&gt;=</span> <span class="mi">3</span>
    <span class="n">two_chars</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="n">regex</span><span class="p">,</span> <span class="n">txt</span><span class="p">))</span> <span class="o">&gt;</span> <span class="mi">0</span>
    <span class="n">no_bad_str</span> <span class="o">=</span> <span class="kc">True</span> <span class="k">if</span> <span class="p">(</span><span class="nb">sum</span><span class="p">([</span><span class="n">s3d</span> <span class="ow">in</span> <span class="n">txt</span> <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">bad_strings</span><span class="p">])</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="k">else</span> <span class="kc">False</span>

    <span class="k">return</span> <span class="n">vowel_count</span> <span class="ow">and</span> <span class="n">two_chars</span> <span class="ow">and</span> <span class="n">no_bad_str</span>

<span class="p">[</span><span class="n">is_nice_string</span><span class="p">(</span><span class="n">t</span><span class="p">)</span> <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="n">test4</span><span class="p">]</span> <span class="c1">#== [False, False, True, True, True]</span>
</code></pre></div>


</div>
<div class="output_area" markdown="1">




    [True, True, False, False, False]



</div>

<div class="codecell">
<div class="input_area" markdown="1">

<div class="codehilite"><pre><span></span><code><span class="n">inp5</span> <span class="o">=</span> <span class="n">get_input</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Number of nice strings: &quot;</span><span class="p">,</span> <span class="nb">sum</span><span class="p">([</span><span class="n">is_nice_string</span><span class="p">(</span><span class="n">t</span><span class="p">)</span> <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="n">inp5</span><span class="p">]))</span>
</code></pre></div>


</div>
</div>
</div>
<div class="output_area" markdown="1">

    Number of nice strings:  258


</div>

<p>for <strong>part two</strong>, the rules have changed, a nice string has these properties:</p>
<ul>
<li>It contains a pair of any two letters that appears at least twice in the string without overlapping, like xyxy (xy) or aabcdefgaa (aa), but not like aaa (aa, but it overlaps).</li>
<li>It contains at least one letter which repeats with exactly one letter between them, like xyx, abcdefeghi (efe), or even aaa.
{% include note.html content='the rest remains to be done' %}
<div class="codecell" markdown="1">
<div class="input_area" markdown="1"></li>
</ul>
<div class="codehilite"><pre><span></span><code><span class="n">regex_2char</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;([a-zA-Z])\1{1,}&quot;</span><span class="p">)</span>
<span class="n">regex_3char</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;([a-zA-Z])\1{2,}&quot;</span><span class="p">)</span>

<span class="k">for</span> <span class="n">txt</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;aa&quot;</span><span class="p">,</span> <span class="s2">&quot;aba&quot;</span><span class="p">,</span> <span class="s2">&quot;aaa&quot;</span><span class="p">]:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="n">regex_2char</span><span class="p">,</span> <span class="n">txt</span><span class="p">))</span>
</code></pre></div>


<p></div>
<div class="output_area" markdown="1"></p>
<div class="codehilite"><pre><span></span><code><span class="k">[&#39;a&#39;]</span>
<span class="k">[]</span>
<span class="k">[&#39;a&#39;]</span>
</code></pre></div>


</div>

</div>

<h2 id="day-6-probably-a-fire-hazard">Day 6: Probably a Fire Hazard</h2>
<p><a href="https://adventofcode.com/2015/day/6">#</a></p>
</article>

<div class="meta">
    posted <time>2020-08-10</time>, updated <time>2020-08-28</time><br>
    tagged: 
    <a href="/python">python</a>
</div>

<hr>
<footer>
    This is a footer. One day some footery text will go here. 
</footer>



</body>

</html>