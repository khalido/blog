<!DOCTYPE html>
<html>

    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <!--temp stylesheet, customize my own one later.
        https://github.com/kognise/water.css-->
        
        
        <link rel="stylesheet" href="https://fonts.xz.style/serve/inter.css">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@exampledev/new.css@1.1.3/new.min.css">

        <link rel="stylesheet" type="text/css" href="/codestyles.css">

        <link rel="stylesheet" type="text/css" href="/ko.css">
        
        

        <script src="https://unpkg.com/htmx.org"></script>

        <title>Floodfill algorithim</title>
    </head>

    <body>
 
        <header>
            <a href="/">"khalido.org"</a> <br>
            "some subheader text."
        </header>


<article>
    
    <p>Flood Fill is a way to to visit every point in a bounded region. This makes it useful for many purposes. In this notebook I implement the "bucket fill" flood fill algo.</p>
<p>First up generating a grid to flood fill:</p>
<pre><code class="language-python">import numpy as np
import matplotlib.pyplot as plt

fill = np.random.randint(0, 2, size=(128,128), dtype=&quot;int&quot;)
fill
</code></pre>
<pre><code>array([[0, 0, 1, ..., 0, 1, 0],
       [0, 0, 0, ..., 1, 1, 1],
       [0, 0, 0, ..., 0, 0, 1],
       ...,
       [0, 0, 0, ..., 1, 0, 1],
       [1, 0, 0, ..., 1, 1, 0],
       [0, 1, 1, ..., 1, 0, 0]])
</code></pre>
<pre><code class="language-python">plt.imshow(fill);
</code></pre>
<p><img alt="svg" src="flood_fill_files/flood_fill_2_0.svg" /></p>
<p>The below function is a recursive implementation of flood fill - it will flood fill a a single region from 1 val to another:</p>
<pre><code class="language-python">def flood_fill(x, y, old, new):
    &quot;&quot;&quot;takes in a x,y position from where to flood fill, the old val to change from and the new val
    to change too, and then does so on a to_fill array&quot;&quot;&quot;

    if fill[x][y] != old or fill[x][y] == new:
        return

    fill[x][y] = new

    max_x = len(fill) - 1
    max_y = len(fill) - 1

    if x &gt; 0: # go left
        flood_fill(x-1, y, old, new)

    if x &lt; max_x: # go right
        flood_fill(x+1, y, old, new)

    if y &gt; 0: # go down
        flood_fill(x, y-1, old, new)
    if y &lt; max_y: # go up
        flood_fill(x, y+1, old, new)
</code></pre>
<p>Here, I flood fill the <code>fill</code>, converting all the <code>1</code>'s to <code>8</code>'s.</p>
<pre><code class="language-python">region_count = 0

imagelist = list()
imagelist.append(fill)

for i in range(len(fill)):
    for j in range(len(fill[0])):
        if fill[i][j] == 1:
            flood_fill(i, j, 1, 8)
            region_count += 1
            imagelist.append(fill)
            if region_count % 100 == 0:
                plt.imshow(imagelist[region_count])
                plt.title(&quot;Flood Fill by region&quot;)
                plt.show()
</code></pre>
<p><img alt="png" src="flood_fill_files/flood_fill_6_0.png" /></p>
<p><img alt="png" src="flood_fill_files/flood_fill_6_1.png" /></p>
<p><img alt="png" src="flood_fill_files/flood_fill_6_2.png" /></p>
<p><img alt="png" src="flood_fill_files/flood_fill_6_3.png" /></p>
<p><img alt="png" src="flood_fill_files/flood_fill_6_4.png" /></p>
<p><img alt="png" src="flood_fill_files/flood_fill_6_5.png" /></p>
<p><img alt="png" src="flood_fill_files/flood_fill_6_6.png" /></p>
<p><img alt="png" src="flood_fill_files/flood_fill_6_7.png" /></p>
<p><img alt="png" src="flood_fill_files/flood_fill_6_8.png" /></p>
<p><img alt="png" src="flood_fill_files/flood_fill_6_9.png" /></p>
<p><img alt="png" src="flood_fill_files/flood_fill_6_10.png" /></p>

    <div class="meta">
        posted <time>2018-08-10</time>, updated <time>2021-07-23</time><br>
        tagged: 
        <a href="/algorithims">algorithims</a>
        
        <p>
            <a href="https://github.com/khalido/blog/blob/master/notebooks/flood_fill.ipynb">github</a>, 
            <a href="https://colab.research.google.com/github/khalido/blog/blob/master/notebooks/flood_fill.ipynb">
                colab2
            </a>,
            <a href="https://deepnote.com/viewer/github/khalido/blog/blob/master/notebooks/flood_fill.ipynb">deepnote</a>

        
        </p>
    
    </div>
</article>

<script>hljs.initHighlightingOnLoad();</script>


<hr>
<footer>
    This is a footer. One day some footery text will go here. 
</footer>



</body>

</html>