<!DOCTYPE html>
<html>

    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link href="/tailwind.css" rel="stylesheet">

        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/a11y-dark.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.min.js"></script>

        <script defer src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js"></script>

        <title>Floodfill algorithim</title>
    </head>

    <body class="bg-yellow-100">

        <header class="bg-yellow-400 p-4 sm:p-6 md:p-8 lg:p-10 xl:p-12">
            <a href="/" 
            class="text-3xl font-mono tracking-wider font-extrabold"
            >khalido.org</a>
            <br>
            <p>every blog needs subheader text</p>
        </header>

        <!--container setting paddings-->
        <div
    class="max-w-3xl
      mx-auto
      px-4 py-5
      sm:px-6 
      md:px-7 
      lg:max-w-4xl lg:px-8
      xl:max-w-5xl xl:px-9
      bg-gray-50"
      >
 
        


<article class="prose md:prose-lg lg:prose-xl">
    <h1 id=None>Floodfill algorithim</h1>

    
    <p>Flood Fill is a way to to visit every point in a bounded region. This makes it useful for many purposes. In this notebook I implement the "bucket fill" flood fill algo.</p>
<p>First up generating a grid to flood fill:</p>
<pre><code class="language-python">import numpy as np
import matplotlib.pyplot as plt

fill = np.random.randint(0, 2, size=(128,128), dtype=&quot;int&quot;)
fill
</code></pre>
<pre><code>array([[0, 0, 1, ..., 0, 1, 0],
       [0, 0, 0, ..., 1, 1, 1],
       [0, 0, 0, ..., 0, 0, 1],
       ...,
       [0, 0, 0, ..., 1, 0, 1],
       [1, 0, 0, ..., 1, 1, 0],
       [0, 1, 1, ..., 1, 0, 0]])
</code></pre>
<pre><code class="language-python">plt.imshow(fill);
</code></pre>
<p><img alt="svg" src="flood_fill_files/flood_fill_2_0.svg" /></p>
<p>The below function is a recursive implementation of flood fill - it will flood fill a a single region from 1 val to another:</p>
<pre><code class="language-python">def flood_fill(x, y, old, new):
    &quot;&quot;&quot;takes in a x,y position from where to flood fill, the old val to change from and the new val
    to change too, and then does so on a to_fill array&quot;&quot;&quot;

    if fill[x][y] != old or fill[x][y] == new:
        return

    fill[x][y] = new

    max_x = len(fill) - 1
    max_y = len(fill) - 1

    if x &gt; 0: # go left
        flood_fill(x-1, y, old, new)

    if x &lt; max_x: # go right
        flood_fill(x+1, y, old, new)

    if y &gt; 0: # go down
        flood_fill(x, y-1, old, new)
    if y &lt; max_y: # go up
        flood_fill(x, y+1, old, new)
</code></pre>
<p>Here, I flood fill the <code>fill</code>, converting all the <code>1</code>'s to <code>8</code>'s.</p>
<pre><code class="language-python">region_count = 0

imagelist = list()
imagelist.append(fill)

for i in range(len(fill)):
    for j in range(len(fill[0])):
        if fill[i][j] == 1:
            flood_fill(i, j, 1, 8)
            region_count += 1
            imagelist.append(fill)
            if region_count % 100 == 0:
                plt.imshow(imagelist[region_count])
                plt.title(&quot;Flood Fill by region&quot;)
                plt.show()
</code></pre>
<p><img alt="png" src="flood_fill_files/flood_fill_6_0.png" /></p>
<p><img alt="png" src="flood_fill_files/flood_fill_6_1.png" /></p>
<p><img alt="png" src="flood_fill_files/flood_fill_6_2.png" /></p>
<p><img alt="png" src="flood_fill_files/flood_fill_6_3.png" /></p>
<p><img alt="png" src="flood_fill_files/flood_fill_6_4.png" /></p>
<p><img alt="png" src="flood_fill_files/flood_fill_6_5.png" /></p>
<p><img alt="png" src="flood_fill_files/flood_fill_6_6.png" /></p>
<p><img alt="png" src="flood_fill_files/flood_fill_6_7.png" /></p>
<p><img alt="png" src="flood_fill_files/flood_fill_6_8.png" /></p>
<p><img alt="png" src="flood_fill_files/flood_fill_6_9.png" /></p>
<p><img alt="png" src="flood_fill_files/flood_fill_6_10.png" /></p>

    <!-- post meta info div-->
    <div class="text-gray-600 text-base">
        posted <time>2018-08-10</time>, updated <time>2021-09-02</time><br>
        tagged: 
        <a href="/algorithims"
        class="text-pink-500 bg-transparent hover:bg-pink-500 hover:text-white active:bg-pink-600 font-bold rounded outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150">
        algorithims</a>

        View on: 
            <a href="https://github.com/khalido/blog/blob/master/notebooks/flood_fill.ipynb">github</a>, 
            <a href="https://colab.research.google.com/github/khalido/blog/blob/master/notebooks/flood_fill.ipynb">
                colab2
            </a>,
            <a href="https://deepnote.com/viewer/github/khalido/blog/blob/master/notebooks/flood_fill.ipynb">deepnote</a>

        
    
    </div>
</article>

<script>hljs.highlightAll();</script>
</div> <!-- closes first div after body -->

<hr>
<footer class="px-4 py-8 content-center text-center">
    <p class="text-sm text-gray-300 pb-2">
        <a href="https://github.com/khalido/blog">#</a>
        <a href="https://twitter.com/KO">@ko</a>
    </p>
</footer>

</body>

</html>