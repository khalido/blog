<!DOCTYPE html>
<html>

    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <!--temp stylesheet, customize my own one later.
        https://github.com/kognise/water.css-->
        
        
        <link rel="stylesheet" href="https://fonts.xz.style/serve/inter.css">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@exampledev/new.css@1.1.3/new.min.css">

        <link rel="stylesheet" type="text/css" href="/codestyles.css">
        
        

        <link rel="stylesheet"
      href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.4.0/styles/default.min.css">
        <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.4.0/highlight.min.js"></script>

        <title>"This is a blog"</title>
    </head>

    <body>
 
        <header>
            <a href="/">khalido.org</a> <br>
            some subheader text.
        </header>


    <p>The search bar searches only the posts for that particular index page.</p>

    <input type="text" id="postSearch" placeholder="Search posts...">
    <ul id="searchresults">
            <li><a href="/meetup/sml-meetup-2018-09.html">SML 2018-09: Deep Reinforcement Learning</a></li>
            <li><a href="/meetup/sml-meetup.html">SML 2018-08: Deep Reinforcement Learning</a></li>
            <li><a href="/meetup/techfugees-sydney-hackathon-2018.html">Techfugees Sydney Hackathon 2018</a></li>
            <li><a href="/meetup/dss-meetup.html">DSS-2018-07: Michael Allwright and Inna Kolyshkina</a></li>
            <li><a href="/data science/ms_openhack_2018.html">Microsoft OpenHack 2018 Sydney</a></li>
    </ul>
    

    <script src="https://cdn.jsdelivr.net/npm/fuse.js/dist/fuse.min.js"></script>

    <script>
        // load json from disk instead of passing in python array

        const searchList = [{"title": "SML 2018-09: Deep Reinforcement Learning", "tags": ["meetup", "data science"], "link": "meetup/sml-meetup-2018-09.html"}, {"title": "SML 2018-08: Deep Reinforcement Learning", "tags": ["meetup", "data science"], "link": "meetup/sml-meetup.html"}, {"title": "Techfugees Sydney Hackathon 2018", "tags": ["meetup"], "link": "meetup/techfugees-sydney-hackathon-2018.html"}, {"title": "DSS-2018-07: Michael Allwright and Inna Kolyshkina", "tags": ["meetup"], "link": "meetup/dss-meetup.html"}, {"title": "Microsoft OpenHack 2018 Sydney", "tags": ["data science", "meetup"], "link": "data science/ms_openhack_2018.html"}]

        const options = {
            includeScore: false,
            threshold: 0.3,
            // Search in `title` and in `tags` array, add posts as well
            // default weight is 1
            keys: [{ name: 'title', weight: 2 },
                'tags']
        }

        const fuse = new Fuse(searchList, options)
        const input = document.getElementById("postSearch")

        input.oninput = (event) => {
            const results = fuse.search(event.target.value)

            document.getElementById("searchresults").innerHTML = "";

            for (result of results) {
                //console.log(result.item.title, result.item.tags)
                document.getElementById('searchresults').innerHTML += '<li>' + '<a href ="' + result.item.link + '">' + result.item.title + '</a></li>'
            }

            // if no input show all the posts
            if (input.value == "") {
                for (result of searchList) {
                    //console.log(result.item.title, result.item.tags)
                    document.getElementById('searchresults').innerHTML += '<li>' + '<a href ="' + result.link + '">' + result.title + '</a></li>'
                }
            }

        }

    </script>
    


<hr>
<footer>
    This is a footer. One day some footery text will go here. 
</footer>



</body>

</html>