---
title: esp8266
date: 2021-01-02
tags:
- iot
---

I've been wanting to try out a IOT board to do something for a while, and somebody lent me a mystery ESP8266 based board.

So, this is a log of my journey from never using an IOT device to making it blink lights or something.

## Initial steps

First up, I plugged in the board to the pc... and nothing happened, besides the a blue led coming on. 

`lsusb` listed a bunch of devices, out of which my IOT board seems to be: `Bus 001 Device 014: ID 1a86:7523 QinHeng Electronics CH340 serial converter`. I figured this out by running lsusb with it plugged and unplugged. All this tells me is that my board is using the CH340 chip to provide usb connectivity.

First up, I need to know what port the device is, so running `sudo dmesg` has this at the end: `usb 1-1: ch341-uart converter now attached to ttyUSB1`. 

Another useful tool is using `usb-devices | less` to list all the usb devices, and using vim commands to search.

Ok so far I can see that there is a board connected. 

So I need [esptool](https://github.com/espressif/esptool):

```bash
conda create -n iot
conda install -c conda-forge esptool 
```

My user couldn't access the usb port to actually use esptool, so I had to: 

```
sudo usermod -a -G tty ko
sudo usermod -a -G dialout ko

```

to add me to the tty permissions group, then log back in.
