<!DOCTYPE html>
<html>

    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link href="/tailwind.css" rel="stylesheet">

        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/a11y-dark.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.min.js"></script>

        <script defer src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js"></script>

        <title>Jupyter Lab tips and tricks</title>
    </head>

    <body class="bg-yellow-100">

        <header class="bg-yellow-400 p-4 sm:p-6 md:p-8 lg:p-10 xl:p-12">
            <a href="/" 
            class="text-3xl font-mono tracking-wider font-extrabold"
            >khalido.org</a>
            <br>
            <p>every blog needs subheader text</p>
        </header>

        <!--container setting paddings-->
        <div
    class="max-w-3xl
      mx-auto
      px-4 py-5
      sm:px-6 
      md:px-7 
      lg:max-w-4xl lg:px-8
      xl:max-w-5xl xl:px-9
      bg-gray-50"
      >
 
        


<article class="prose md:prose-lg lg:prose-xl">
    <h1 id=jupyter-lab-tips-and-tricks>Jupyter Lab tips and tricks</h1>

    <details close class="fixed top-0 right-0 text-sm text-gray-500">
        <summary>Table of contents.</summary>
        <div class="toc">
<ul>
<li><a href="#jupyter-lab-tips-and-tricks">Jupyter Lab tips and tricks</a><ul>
<li><a href="#magic-commands">magic commands</a></li>
<li><a href="#extensions">Extensions</a></li>
<li><a href="#blog-with-jupyter-notebooks">blog with jupyter notebooks</a></li>
</ul>
</li>
</ul>
</div>

    </details>
    
    
<p>My collection of tips and tricks for using jupyter lab.</p>
<p><a href="https://jupyterlab.readthedocs.io/en/stable/">Jupyterlab</a> is already installed with <a href="https://www.anaconda.com/distribution/">Anaconda</a>, but if using miniconda install it by:</p>
<p><code>conda install -c conda-forge jupyterlab ipywidgets</code></p>
<h2 id="magic-commands">magic commands</h2>
<p>list all magic commands: <code>%lsmagic</code></p>
<p>My shortlist:</p>
<ul>
<li>Load a file: <code>%load ./hello_world.py</code></li>
<li>time a cell: <code>%%time</code></li>
</ul>
<h2 id="extensions">Extensions</h2>
<ul>
<li><a href="https://github.com/jupyterlab/jupyterlab-toc">Table of Contents</a> - displays a toc in the sidebar.</li>
<li><a href="https://github.com/krassowski/jupyterlab-go-to-definition">Go to Definition</a> - <code>ctrl-alt-b</code> jumps to the point in the notebok the variable or function is defined</li>
</ul>
<p><a href="https://www.npmjs.com/search?q=keywords:jupyterlab-extension">Jupyterlab extensions</a> are built using nodejs, so install that by:</p>
<p>Step 1: install <a href="https://github.com/nvm-sh/nvm#install--update-script">nvm</a>, a script to install nodejs:</p>
<p><code>curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.34.0/install.sh | bash</code></p>
<p>step 2: install nodejs itself by:</p>
<p><code>nvm install node</code></p>
<p>Install all the extensions then build in one go by:</p>
<pre><code>jupyter labextension install @jupyter-widgets/jupyterlab-manager --no-build &amp;&amp; \
jupyter labextension install @jupyterlab/toc --no-build &amp;&amp; \
jupyter lab build --minimize=False
</code></pre>
<p>Note: the build flag is because building was taking too long without this.</p>
<h2 id="blog-with-jupyter-notebooks">blog with jupyter notebooks</h2>
<p>So there are tools like Pelican which are setup directly with jupyter notebooks, but I had already set up a hugo powered blog since its free, easy and just works, so my mini shortcut is to put all my notebooks the hugo content directory and run a little script there which converts the jupyter notebooks to markdown files:</p>
<pre><code class="language-python">import os

# path to jupyter notebooks 
path = 'content/'

# Find all jupyter notebooks in the content folder (and its subfolders)
all_ipynb_files = [os.path.join(root, name)
                   for root, dirs, files in os.walk(path)
                       for name in files
                           if name.endswith((&quot;.ipynb&quot;))]

# Remove all notebooks from checkpoint folders
ipynb_files = [x for x in all_ipynb_files if &quot;.ipynb_checkpoints&quot; not in x]

# converting to markdown, one at a time
for notebook in ipynb_files:
    os.system(f'jupyter nbconvert --to markdown {notebook}')

print(f&quot;Converted {len(ipynb_files)} jupter notebooks to markdown.&quot;)
</code></pre>
<p>The above works just fine, but i had a problem: the web server wasn't displaying images from the jupyter notebook posts.</p>
<p>One solution is to go through every markdown file and fix the link so it points to the right file, but the easiest solution Google found me was this:</p>
<p>In the nbconvert config file <code>~/.jupyter/jupyter_nbconvert_config.py</code> put the following line:</p>
<p><code>c.NbConvertApp.output_files_dir = '{notebook_name}'</code></p>
<p>This saves the output file in a folder which is the same as the notebook name - I've found that way then the netlify webserver just serves up the image files without having to rewrite the image path inside the markdown file.</p>
<p><em>Note: this post is a work in progress...</em></p>

    <!-- post meta info div-->
    <div class="text-gray-600 text-base">
        posted <time>2019-08-04</time>, updated <time>2022-03-07</time><br>
        tagged: 
        <a href="/jupyter"
        class="text-pink-500 bg-transparent hover:bg-pink-500 hover:text-white active:bg-pink-600 font-bold rounded outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150">
        jupyter</a>

            View on: <a href="https://github.com/khalido/blog/blob/master/posts/jupyterlab.md"
            class="text-purple-500 hover:bg-purple-500 hover:text-white active:bg-purple-600 font-bold rounded outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150">
            github</a>
    
    </div>
</article>

<script>hljs.highlightAll();</script>
</div> <!-- closes first div after body -->

<hr>
<footer class="px-4 py-8 content-center text-center">
    <p class="text-sm text-gray-300 pb-2">
        <a href="https://github.com/khalido/blog">#</a>
        <a href="https://twitter.com/KO">@ko</a>
    </p>
</footer>

</body>

</html>